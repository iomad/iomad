"use strict";function _typeof2(a){if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof2=function(a){return typeof a}}else{_typeof2=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof2(a)}define ("theme_iomad/collapse",["exports","jquery","./util"],function(a,b,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var k=d(b),l=d(c);function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if("function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)){e=function(a){return _typeof2(a)}}else{e=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":_typeof2(a)}}return e(a)}function f(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);if("function"==typeof Object.getOwnPropertySymbols){d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))}d.forEach(function(b){g(a,b,c[b])})}return a}function g(a,b,c){if(b in a){Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0})}else{a[b]=c}return a}function h(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function i(a,b){for(var c=0,d;c<b.length;c++){d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;if("value"in d)d.writable=!0;Object.defineProperty(a,d.key,d)}}function j(a,b,c){if(b)i(a.prototype,b);if(c)i(a,c);return a}var m="bs.collapse",n=".".concat(m),o=k.default.fn.collapse,p={toggle:!0,parent:""},q={toggle:"boolean",parent:"(string|element)"},r={SHOW:"show".concat(n),SHOWN:"shown".concat(n),HIDE:"hide".concat(n),HIDDEN:"hidden".concat(n),CLICK_DATA_API:"click".concat(n).concat(".data-api")},s={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},t={WIDTH:"width",HEIGHT:"height"},u={ACTIVES:".show, .collapsing",DATA_TOGGLE:"[data-toggle=\"collapse\"]"},v=function(){function a(b,c){h(this,a);this._isTransitioning=!1;this._element=b;this._config=this._getConfig(c);this._triggerArray=[].slice.call(document.querySelectorAll("[data-toggle=\"collapse\"][href=\"#".concat(b.id,"\"],")+"[data-toggle=\"collapse\"][data-target=\"#".concat(b.id,"\"]")));for(var d=[].slice.call(document.querySelectorAll(u.DATA_TOGGLE)),e=0,f=d.length;e<f;e++){var g=d[e],j=l.default.getSelectorFromElement(g),k=[].slice.call(document.querySelectorAll(j)).filter(function(a){return a===b});if(null!==j&&0<k.length){this._selector=j;this._triggerArray.push(g)}}this._parent=this._config.parent?this._getParent():null;if(!this._config.parent){this._addAriaAndCollapsedClass(this._element,this._triggerArray)}if(this._config.toggle){this.toggle()}}j(a,[{key:"toggle",value:function(){if((0,k.default)(this._element).hasClass(s.SHOW)){this.hide()}else{this.show()}}},{key:"show",value:function(){var b=this;if(this._isTransitioning||(0,k.default)(this._element).hasClass(s.SHOW)){return}var c,d;if(this._parent){c=[].slice.call(this._parent.querySelectorAll(u.ACTIVES)).filter(function(a){if("string"==typeof b._config.parent){return a.getAttribute("data-parent")===b._config.parent}return a.classList.contains(s.COLLAPSE)});if(0===c.length){c=null}}if(c){d=(0,k.default)(c).not(this._selector).data(m);if(d&&d._isTransitioning){return}}var e=k.default.Event(r.SHOW);(0,k.default)(this._element).trigger(e);if(e.isDefaultPrevented()){return}if(c){a._jQueryInterface.call((0,k.default)(c).not(this._selector),"hide");if(!d){(0,k.default)(c).data(m,null)}}var f=this._getDimension();(0,k.default)(this._element).removeClass(s.COLLAPSE).addClass(s.COLLAPSING);this._element.style[f]=0;if(this._triggerArray.length){(0,k.default)(this._triggerArray).removeClass(s.COLLAPSED).attr("aria-expanded",!0)}this.setTransitioning(!0);var g=f[0].toUpperCase()+f.slice(1),h="scroll".concat(g),i=l.default.getTransitionDurationFromElement(this._element);(0,k.default)(this._element).one(l.default.TRANSITION_END,function(){(0,k.default)(b._element).removeClass(s.COLLAPSING).addClass(s.COLLAPSE).addClass(s.SHOW);b._element.style[f]="";b.setTransitioning(!1);(0,k.default)(b._element).trigger(r.SHOWN)}).emulateTransitionEnd(i);this._element.style[f]="".concat(this._element[h],"px")}},{key:"hide",value:function(){var a=this;if(this._isTransitioning||!(0,k.default)(this._element).hasClass(s.SHOW)){return}var b=k.default.Event(r.HIDE);(0,k.default)(this._element).trigger(b);if(b.isDefaultPrevented()){return}var c=this._getDimension();this._element.style[c]="".concat(this._element.getBoundingClientRect()[c],"px");l.default.reflow(this._element);(0,k.default)(this._element).addClass(s.COLLAPSING).removeClass(s.COLLAPSE).removeClass(s.SHOW);var d=this._triggerArray.length;if(0<d){for(var e=0;e<d;e++){var f=this._triggerArray[e],g=l.default.getSelectorFromElement(f);if(null!==g){var h=(0,k.default)([].slice.call(document.querySelectorAll(g)));if(!h.hasClass(s.SHOW)){(0,k.default)(f).addClass(s.COLLAPSED).attr("aria-expanded",!1)}}}}this.setTransitioning(!0);this._element.style[c]="";var j=l.default.getTransitionDurationFromElement(this._element);(0,k.default)(this._element).one(l.default.TRANSITION_END,function(){a.setTransitioning(!1);(0,k.default)(a._element).removeClass(s.COLLAPSING).addClass(s.COLLAPSE).trigger(r.HIDDEN)}).emulateTransitionEnd(j)}},{key:"setTransitioning",value:function(a){this._isTransitioning=a}},{key:"dispose",value:function(){k.default.removeData(this._element,m);this._config=null;this._parent=null;this._element=null;this._triggerArray=null;this._isTransitioning=null}},{key:"_getConfig",value:function(a){a=f({},p,a);a.toggle=!!a.toggle;l.default.typeCheckConfig("collapse",a,q);return a}},{key:"_getDimension",value:function(){var a=(0,k.default)(this._element).hasClass(t.WIDTH);return a?t.WIDTH:t.HEIGHT}},{key:"_getParent",value:function(){var b=this,c;if(l.default.isElement(this._config.parent)){c=this._config.parent;if("undefined"!=typeof this._config.parent.jquery){c=this._config.parent[0]}}else{c=document.querySelector(this._config.parent)}var d="[data-toggle=\"collapse\"][data-parent=\"".concat(this._config.parent,"\"]"),e=[].slice.call(c.querySelectorAll(d));(0,k.default)(e).each(function(c,d){b._addAriaAndCollapsedClass(a._getTargetFromElement(d),[d])});return c}},{key:"_addAriaAndCollapsedClass",value:function(a,b){var c=(0,k.default)(a).hasClass(s.SHOW);if(b.length){(0,k.default)(b).toggleClass(s.COLLAPSED,!c).attr("aria-expanded",c)}}}],[{key:"_getTargetFromElement",value:function(a){var b=l.default.getSelectorFromElement(a);return b?document.querySelector(b):null}},{key:"_jQueryInterface",value:function(b){return this.each(function(){var c=(0,k.default)(this),d=c.data(m),g=f({},p,c.data(),"object"===e(b)&&b?b:{});if(!d&&g.toggle&&/show|hide/.test(b)){g.toggle=!1}if(!d){d=new a(this,g);c.data(m,d)}if("string"==typeof b){if("undefined"==typeof d[b]){throw new TypeError("No method named \"".concat(b,"\""))}d[b]()}})}},{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return p}}]);return a}();(0,k.default)(document).on(r.CLICK_DATA_API,u.DATA_TOGGLE,function(a){if("A"===a.currentTarget.tagName){a.preventDefault()}var b=(0,k.default)(this),c=l.default.getSelectorFromElement(this),d=[].slice.call(document.querySelectorAll(c));(0,k.default)(d).each(function(){var a=(0,k.default)(this),c=a.data(m),d=c?"toggle":b.data();v._jQueryInterface.call(a,d)})});k.default.fn.collapse=v._jQueryInterface;k.default.fn.collapse.Constructor=v;k.default.fn.collapse.noConflict=function(){k.default.fn.collapse=o;return v._jQueryInterface};a.default=v;return a.default});
//# sourceMappingURL=collapse.min.js.map
